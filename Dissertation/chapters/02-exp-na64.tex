\chapter{Эксперимент NA64}

Рассмотрим применение описанных принципов проектирования
научного~\acrshort{sw} на примере эксперимента NA64.
%Название коллаборации по внутренней номенклатуре экспериментов Европейской организации по
%ядерным исследованиям (North Area, №64).

Программа эксперимента посвящёна поиску гипотетических частиц тёмной материи в
постановке <<active beam dump>>, где
наблюдается развитие электромагнитного ливня от лептона в веществе активной мишени
($e^{-} + Z_{\text{Pb}}$, $\mu^{-} + Z_{\text{Pb}}$, $e^{+} + Z_{\text{Pb}}$).
NA64 нацелен на проверку различных моделей \acrshort{dm}, включая скалярные
частицы, псевдоскаляры, майорановскую тёмную материю: тёмный фотон,
лёгкие аксион-подобные частицы, инфлатон и $Z'$-бозон.

%В этой главе дано краткое
%описание экспериментальной установки, приведены примеры конкретных
%реализаций общих принципов изложенных ранее.

%Вне зависимости от конкретного гипотетического механизма,
%эксперимент существенным образом опирается на информацию об электромагнитном 
%ливне, индуцированным налетающим на мишень лептоном. 
%Такую информацию регистрирует гетерогенный электромагнитный калориметр с высокой
%гранулярностью (\texttt{ECAL}), играя таким образом особую роль
%в рамках экспериментальных методов регистрации гипотетических каналов реакции.
%По этой причине, особое внимание в главе уделяется задачам калибровки и
%реконструкции сигналов электромагнитного калориметра.

\input{Dissertation/chapters/exp-na64/theoretic-intro}
\input{Dissertation/chapters/exp-na64/setup-common}
\input{Dissertation/chapters/exp-na64/detectors}
\input{Dissertation/chapters/exp-na64/dets-sadc}
\input{Dissertation/chapters/exp-na64/analysis-conceptual}

\section{Функциональная организация}

На примере эксперимента NA64 хорошо прослеживаются общие черты
предметной области: экспериментальная установка организована
как комплекс автономных систем, синхронизируемых
посредством триггерного сигнала, эмерджентная задача которой состоит
в регистрации физических процессов, развивающихся в рамках
статистически независимых событий, с дальнейшими
вычислениями производимыми в рамках заданных доверительных
пределов.
%Отметим, что на этом (низком) уровне общности наиболее естественной
%формой представления данных является табличная модель.

По функциональному назначению (специализации) электромагнитный калориметр
совмещает роли мишени и детектора электромагнитных
ливней (т.н. активная мишень), участвуя в формировании триггерного
сигнала за счёт продольной сегментации. Трековые
детекторы предназначены для мечения (измерения энергии) отдельных
первичных частиц. Адронный калориметр завершает герметичность
установки, идентификацию процессов адронизации и измерение видимых
каналов. На этом уровне общности такие понятия как ливень
или траектория частицы удобно определять через группировку
отдельных низкоуровневых измерений в коллекции, дополняя
и доопределяя такие абстракции физическими величинами, по мере того
как от простых алгоритмов кластеризации и применения масштабных
преобразований уточняется и развивается информация о физике
процессов. В этом случае
%табличная модель перестаёт отвечать требованиям выразительности
%полноты информации,
в цифровом представлении физического события возникают
иерархические связи и конкурирующие гипотезы, что обуславливает
целесообразность использования объектной
модели события. При этом сам процесс удобно представлять в
форме изолированных инкрементных процедур,
в рамках конвейерного шаблона~--- посредством отдельных
обработчиков, обеспечивая гибкую и настраиваемую последовательность
реконструкции события.

При такой организации один и тот же обработчик
или участок конвейера может применяться и в рамках полного физического
анализа, и для отдельных тестов и калибровок, удовлетворяя нескольким
сценариям использования.

Возникает ряд прикладных задач допускающих обобщение:
\begin{itemize}
    \item Сравнение конкурирующих гипотез в рамках задач
    реконструкции треков и разделения
    сигналов \acrshort{sadc} представимо в формализме
    машин конечных состояний.
    \item Необходимость формулировать условия отбора событий
    и элементов его объектной модели (зарядовых кластеров,
    треков частиц, ливней, отдельных сигналов) представляет
    собой задачу достаточно часто включённую в другие, что
    обуславливает целесообразность специализированных выразительных
    средств для задания логических условий и арифметических операций.
    \item Другим примером частой потребности в отдельных
    алгоритмах обработки являются калибровочные данные
    представимые в виде текстовых таблиц.
    Реализация шаблона проектирования <<издатель--подписчик>>
    может быть дополнена специализированным выразительным
    средством с целью упрощения работы с такими артефактами.
    \item Единообразие номенклатуры данных и детекторов
    NA64 допускает принципиальную возможность хранения
    массива событий для последующей обработки.
    \item Очевидно, достаточно частой задаче в процедурах
    калибровки и отладки алгоритмов реконструкции
    является извлечение интегральных характеристик для элементов на
    определённом логическом уровне детекторов
    (ячейки, модуля калориметра, станции). Целесообразно предусмотреть
    автоматизированное средство для каталогизации таких объектов.
\end{itemize}

В то же время из содержания главы видны задачи являющиеся
в большой мере уникальными для NA64:
\begin{itemize}
    \item Кластеризация откликов координатных детекторов
    MicroMega, GEM и Straw,
    \item Вычисление радиуса цилиндрической изохронной поверхности
    для сигналов от тонкостенных трубок,
    \item Определение времени и энерговыделения в детекторах
    считываемых \acrshort{sadc},
    \item Калибровки ECAL, HCAL, VETO.
\end{itemize}

Существенный вклад в интерпретацию результатов экспериментальных
измерений вносят количественные оценки полученные с применением различных
методов моделирования. В частности, используется генератор
событий, реализующий модели аналитических сечений. Хотя сам по себе
такой генератор является достаточно изолированным низкоуровневым решением, его
использование в составе более обширной программной инфраструктуры
позволяет получить представление о картине исследуемого физического
процесса и чувствительности всей системы в целом.

Метод регистрации редких событий заключается в поверке
установки на известных и хорошо определённых процессах с известной
или проверяемой светимостью~--- <<стандартных свечах>>. Для NA64
определено несколько процессов в которых присутствуют такие сигналы.
Например, сравнительно частый ($\simeq10^{-4}$) процесс рождения и
выхода мюонных пар $\gamma\rightarrow\mu^{+}\mu^{-}$, или
более редкие процессы адронизации электромагнитного
ливня (фотоядерные реакции, $\simeq 10^{-8}$).

С методической точки зрения процедуры обработки реальных
экспериментальных данных и данных моделирования должны отличаться
лишь источником, то есть обработке результатов моделирования
отвечает всё тот же сценарий анализа.

Установка обеспечивает физические условия для поиска сигнальных
процессов и их регистрацию, а программное
обеспечение~--- воспроизводимую реконструкцию и анализ,
обеспеченные архитектурными инвариантами,
сформулированными ранее: модульностью, поддержкой потоковой
обработки, детерминированностью вычислений и наличием явно
декларированных точек расширения, допускающих развитие методов
реконструкции.
%В совокупности аппаратная часть и программный комплекс образуют
%целостный инструмент для проверки гипотез о существовании
%новых лёгких частиц.

%\input{tex/chapters/03-na64/simplified-tracking}

